-- # 插入数据到订单表(已存在)中，批量插入随机数据,关闭自动提交
delimiter $$
drop procedure if exists orders_initData;
create procedure orders_initData()
begin
    declare i int default 1;
    set autocommit=off;
   while i<=1000000 do
            insert into test.orders (user_id, commodities, status, deliver_status, total_price, create_time, update_time)
            values (ceiling(rand()*100), '{"key": "value"}', 0, '{"key":"value"}', 1, unix_timestamp(now()) , unix_timestamp(now()));
        set i = i+1;
    end while;
    commit;
end
$$ delimiter
call orders_initData();

-- # 插入数据到订单表中，自动提交，一条一条的插入
delimiter $$
drop procedure if exists orders_initData_one;
create procedure orders_initData_one()
begin
    declare i int default 1;
    set autocommit=on;
   while i<=1000000 do
            insert into test.orders (user_id, commodities, status, deliver_status, total_price, create_time, update_time)
            values (ceiling(rand()*100), '{"key": "value"}', 0, '{"key":"value"}', 1, unix_timestamp(now()) , unix_timestamp(now()));
        set i = i+1;
    end while;
end
$$ delimiter
call orders_initData_one();
